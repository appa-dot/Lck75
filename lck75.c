#include "quantum.h"

// definitions
#define WAIT_MULTIPLIER 5
#define TAP_SPEED 40
#define ANIM_SIZE 512
#define ANIM_AMOUNT 2

#ifdef OLED_ENABLE

oled_rotation_t oled_init_kb(oled_rotation_t rotation) {
    return OLED_ROTATION_180;
}

// declarations
static uint32_t anim_timer         = 0;
static uint32_t anim_sleep         = 0;
static uint8_t  current_idle_frame = 0;
static uint8_t  current_prep_frame = 0;
static uint8_t  current_tap_frame  = 0;
static uint8_t  gif_selector       = 0;
static uint8_t  total_idle_frames  = 0;
static uint8_t  total_prep_frames  = 0;
static uint8_t  total_tap_frames   = 0;
static bool     prepped            = false;
static bool     prep_wait          = false;

typedef struct {
    uint8_t idle;
    uint8_t prep;
    uint8_t tap;
    bool    multi_wpm;
    uint8_t frame_time;
} animation_details;

typedef void (*anim)(void);

static const char PROGMEM appa_idle[][ANIM_SIZE] = {{0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,   0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  128, 192, 192, 224, 96, 112, 112, 56, 56, 24, 28,  156, 156, 220, 124, 60,  12, 236, 252, 252, 48,  208, 248, 120, 14, 7, 127, 252, 198, 131, 1, 1, 0,   0,   0,   0,  0,  6,  15, 15, 27, 25,  25,  48, 48, 96,  96,  224, 192, 192, 128, 129, 3, 3, 131, 195, 231, 118, 60, 56, 112, 224, 192, 192, 240, 126, 7,   254, 0,   0,   0,   0,  0,  0,  0,  0,  0,  0, 0, 0,   0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,   0,   0,   0,   0,   0,   0,  0,  0,  0,   0,   0,   0,   0,  0,  0,  128, 192, 224, 96, 120, 124, 126, 94, 87, 211,
                                                177, 161, 160, 160, 160, 176, 152, 204, 78,  103, 51,  17,  24,  14,  7,  255, 255, 255, 0,  0,  3,   7,   14,  12,  28,  24,  28, 15, 135, 128, 128, 128, 128, 128, 128, 128, 128, 192, 64, 64, 64, 64, 64,  64,  64,  64,  64, 64,  97,  97, 99, 67, 71,  67,  67,  64,  192, 192, 64, 64,  193, 255, 253, 124, 6,   7,   3,  0, 0,   0,   0,   0,   0, 0, 0,   0,   0,   0,  0,  0,  0,  0,  0,  0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0,   128, 128, 192, 192, 224, 96,  112, 48,  56,  24,  28, 12, 14, 6,  7,  3,  1, 0, 0,   0,   0,   0,   0, 0, 0, 0, 0, 0, 192, 255, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 15, 255, 247, 231, 192, 224, 112, 48, 24, 24, 26,  95,  223, 223, 28, 24, 24, 24,  25,  89,  88, 24,  24,  60,  60, 52, 54,
                                                54,  54,  54,  54,  118, 102, 102, 198, 198, 198, 198, 102, 236, 188, 60, 92,  28,  6,   13, 24, 240, 224, 128, 128, 128, 128, 0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,  0,   0,   0,  0,  0,  128, 192, 224, 48,  24,  12,  6,  3,   1,   1,   0,   0,   0,   0,   0,  0, 0,   0,   0,   0,   0, 0, 128, 224, 120, 24, 24, 24, 28, 14, 6,  254, 240, 0,  0,  254, 255, 0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  3,   243, 255, 223, 0,   224, 240, 120, 124, 124, 119, 63, 27, 31, 30, 30, 12, 0, 1, 129, 192, 192, 128, 0, 0, 0, 0, 0, 0, 0,   1,   5, 5, 5, 1, 1, 1, 0, 0, 0, 0, 0, 0,  0,   128, 64,  32,  1,   0,   0,  7,  15, 248, 112, 0,   0,   0,  0,  0,  0,   0,   0,   0,  0,   0,   0,   0,  0},
                                               {0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0,   0,  0,   0,   0,   0,   0,  0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  128, 192, 192, 224, 96, 112, 112, 56, 56, 24, 28,  156, 156, 220, 124, 60,  12, 236, 252, 252, 48,  208, 248, 120, 14, 7, 127, 252, 198, 131, 1, 1, 0,   0,   0,   0,  0,  6,  15, 15, 27, 25,  25,  48, 48, 96,  96,  224, 192, 192, 128, 129, 3, 3, 131, 195, 231, 118, 60, 56, 112, 224, 192, 192, 240, 126, 7,  254, 0,   0,   0,   0,   0,   0,   0,  0,   0,  0,  0, 0, 0, 0,   0,   0,   0, 0, 0, 0, 0, 0,   0,   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,   0,   0,   0,   0,   0,  0,  0,   0,   0,   0,  0,  0,  0,  0,  128, 192, 224, 96, 120, 124, 126, 94, 87,  211,
                                                177, 161, 160, 160, 160, 176, 152, 204, 78,  103, 51,  17,  24,  14, 7,  255, 255, 255, 0,  0,   3,   7,   14,  12, 28, 24, 28, 15, 135, 128, 128, 128, 128, 128, 128, 128, 128, 192, 64, 64, 64, 64, 64,  64,  64,  64,  64, 64,  97,  97, 99, 67, 71,  67,  67,  64,  192, 192, 64, 64,  193, 255, 253, 124, 6,   7,   3,  0, 0,   0,   0,   0,   0, 0, 0,   0,   0,   0,  0,  0,  0,  0,  0,  0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0,   128, 128, 192, 192, 224, 96, 112, 48,  56,  24,  28,  12,  14,  6,  7,   3,  1,  0, 0, 0, 0,   0,   0,   0, 0, 0, 0, 0, 192, 255, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 15, 63, 215, 71,  224, 192, 240, 48, 24, 24,  154, 223, 63, 31, 28, 24, 24, 88,  89,  25,  24, 24,  24,  28,  60, 180, 182,
                                                182, 54,  118, 118, 118, 102, 198, 198, 198, 198, 198, 102, 108, 60, 60, 60,  28,  6,   13, 120, 240, 192, 128, 0,  0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,  0,   0,   0,  0,  0,  128, 192, 224, 48,  24,  12,  6,  3,   1,   1,   0,   0,   0,   0,   0,  0, 0,   0,   0,   0,   0, 0, 128, 224, 120, 24, 24, 24, 28, 14, 6,  254, 240, 0,  0,  254, 255, 0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0,   225, 243, 255, 15,  7,   7,  6,   205, 248, 248, 221, 239, 247, 27, 155, 11, 11, 5, 1, 0, 128, 128, 128, 0, 2, 0, 0, 0, 0,   0,   1, 1, 5, 1, 1, 0, 0, 0, 0, 0, 0, 0,  0,  0,   128, 0,   1,   1,   7,  6,  124, 248, 0,   0,  0,  0,  0,  0,  0,   0,   0,   0,  0,   0,   0,   0,  0},
                                               {0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0,   0,  0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  128, 192, 192, 224, 96, 112, 112, 56, 56, 24, 28,  156, 156, 220, 124, 60,  12, 236, 252, 252, 48,  208, 248, 120, 14, 7, 127, 252, 198, 131, 1, 1, 0,   0,   0,   0,  0,  6,  15, 15, 27, 25,  25,  48, 48, 96,  96,  224, 192, 192, 128, 129, 3, 3, 131, 195, 231, 118, 60, 56, 112, 224, 192, 192, 240, 126, 7,  254, 0,   0,   0,   0,   0,   0,   0,   0,  0,  0, 0, 0, 0,   0,   0,   0,   0, 0, 0, 0, 0, 0,   0,   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0,   0,  0,   0,   0,   0,   0,  0,  0,  0,   0,   0,  0,  0,  0,  0,  128, 192, 224, 96, 120, 124, 126, 94, 87, 211,
                                                177, 161, 160, 160, 160, 176, 152, 204, 78,  103, 51,  17,  24,  14, 7,  255, 255, 255, 0,  0,   3,   7,   14,  12,  28, 24, 28, 15, 135, 128, 128, 128, 128, 128, 128, 128, 128, 192, 64, 64, 64, 64, 64,  64,  64,  64,  64, 64,  97,  97, 99, 67, 71,  67,  67,  64,  192, 192, 64, 64,  193, 255, 253, 124, 6,   7,   3,  0, 0,   0,   0,   0,   0, 0, 0,   0,   0,   0,  0,  0,  0,  0,  0,  0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0,   128, 128, 192, 192, 224, 96, 112, 48,  56,  24,  28,  12,  14,  6,   7,  3,  1, 0, 0, 0,   0,   0,   0,   0, 0, 0, 0, 0, 192, 255, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 15, 255, 23, 199, 160, 192, 112, 48, 24, 24, 154, 223, 63, 31, 28, 24, 24, 24,  25,  89,  24, 24,  24,  28,  60, 52, 54,
                                                54,  54,  54,  54,  118, 102, 198, 198, 198, 198, 198, 102, 108, 60, 60, 60,  28,  6,   13, 120, 240, 192, 128, 128, 0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,  0,   0,   0,  0,  0,  128, 192, 224, 48,  24,  12,  6,  3,   1,   1,   0,   0,   0,   0,   0,  0, 0,   0,   0,   0,   0, 0, 128, 224, 120, 24, 24, 24, 28, 14, 6,  254, 240, 0,  0,  254, 255, 0,   0,   0,   0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0,   225, 254, 255, 47,  6,   4,  232, 248, 185, 204, 254, 247, 251, 255, 31, 14, 1, 1, 0, 128, 192, 192, 128, 0, 0, 0, 0, 0, 0,   0,   0, 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0,  0,   0,  0,   0,   1,   1,   3,  7,  60, 240, 0,   0,  0,  0,  0,  0,  0,   0,   0,   0,  0,   0,   0,   0,  0}};

static const char PROGMEM appa_prep[][ANIM_SIZE] = {{0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 192, 224, 96,  112, 112, 56,  56,  24,  28,  28,  156, 220, 252, 124, 188, 252, 252, 252, 28, 12, 255, 255, 248, 140, 6, 2, 3, 3, 1, 0, 4,   14,  14,  26, 26, 50, 51, 115, 96, 192, 192, 128, 128, 1,   3,   3, 2, 6, 134, 198, 244, 60, 9, 3, 3, 14, 28, 248, 224, 128, 224, 60,  15,  252, 0,  0,   0,   0,   0,   0,   0,   0,  0, 0,   0,   0,   0,   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   0,   0, 0, 0, 0, 0,   0,   0, 0, 0,   0, 0, 0,   0,   0,   0,   0,  0,   0,   0,  0, 0,  0,  0,   0,   0,  0,  0,  0,  128, 192, 224, 96, 120, 124, 126, 94,  87,  211,
                                                177, 161, 160, 160, 160, 176, 152, 204, 78,  102, 51, 49, 24, 14, 127, 255, 224, 135, 15,  12,  28, 28, 28, 15, 143, 131, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 193, 193, 195, 195, 198, 198, 198, 199, 195, 193, 192, 192, 192, 192, 192, 192, 128, 15,  217, 240, 248, 12, 7,  1,   0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,  0,  0,  0,  0,   0,  0,   0,   0,   0,   0,   0,   0, 0, 0, 0,   0,   0,   0,  0, 0, 0, 0,  0,  0,   0,   128, 128, 192, 192, 224, 96, 112, 48,  56,  24,  28,  12,  14, 6, 7,   3,   1,   0,   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 255, 3, 0, 0, 0, 0,   0,   0, 0, 0,   0, 1, 193, 195, 227, 247, 63, 31,  31,  79, 7, 15, 15, 143, 141, 12, 12, 24, 24, 24,  25,  57,  56, 252, 108, 100, 100, 100, 198,
                                                198, 134, 134, 134, 198, 196, 196, 228, 124, 56,  57, 25, 8,  8,  13,  15,  15,  31,  243, 224, 0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 224, 48,  24,  12,  6,   3,   1,   1,   0,  0,  0,   0,   0,   0,   0, 0, 0, 0, 0, 0, 128, 224, 120, 24, 24, 24, 28, 14,  6,  254, 240, 0,   0,   254, 255, 0, 0, 0, 0,   0,   0,   0,  0, 0, 0, 0,  0,  3,   231, 255, 255, 221, 246, 255, 29, 206, 247, 251, 207, 135, 128, 0,  0, 128, 192, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1,   1,   0, 0, 0, 0, 128, 128, 0, 0, 128, 0, 0, 0,   0,   1,   3,   6,  252, 248, 0,  0, 0,  0,  0,   0,   0,  0,  0,  0,  0,   0,   0,   0,  0,   0,   0,   0,   0},
                                               {0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,  0,  128, 128, 192, 224, 96,  112, 48,  56,  56,  24,  24,  24,  152, 248, 248, 56,  28, 6,   63,  124, 230, 195, 129, 1, 0, 0, 0, 0, 2, 6, 14, 26, 50, 114, 98,  195, 195, 128, 0,  0,  0, 0,   0,   3, 7, 134, 198, 230, 102, 54, 30, 0, 0, 1, 3, 7, 14, 156, 248, 240, 96, 56,  4,   252, 0,   0,   0,   0,  0,  0,  0,   0,  0,   0,  0,  0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0, 0, 0, 0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 0, 0,  0,  0,  0,  0,   0,   0,   128, 192, 224, 112, 124, 94,  95,  87,  211, 177,
                                                161, 160, 160, 160, 160, 240, 120, 124, 62, 31, 15, 7, 59, 255, 142, 252, 152, 152, 136, 135, 135, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 193, 65, 67, 70, 78, 76, 76, 78,  71,  195, 193, 192, 192, 192, 192, 192, 192, 192, 192, 192, 207, 223, 153, 16, 216, 252, 62,  3,   0,   0,   0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  0,   0,   0,   0,   0,   0,  0,  0, 0,   0,   0, 0, 0,   0,   0,   0,   0,  0,  0, 0, 0, 0, 0, 0,  0,   0,   0,   0,  0,   128, 128, 192, 192, 192, 96, 96, 48, 48,  56, 24,  28, 12, 14, 7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 224, 255, 7,   0,   0,   0,   0, 0, 0, 1, 32, 203, 203, 207, 6,   196, 196, 135, 135, 140, 136, 8, 8, 25, 25, 24, 56, 120, 100, 100, 100, 228, 196, 196, 198, 198, 198, 198, 196, 196,
                                                228, 100, 100, 100, 56,  56,  25,  9,   8,  4,  4,  2, 15, 7,   253, 255, 31,  15,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   192, 224, 112, 24,  12, 6,   3,   3,   1,   1,   0,   0, 0, 0, 0, 0, 0, 0, 0,  0,  0,  128, 224, 120, 24,  24,  16, 60, 0, 252, 224, 0, 0, 0,   252, 255, 1,   0,  0,  0, 0, 0, 0, 0, 0,  0,   65,  243, 31, 238, 14,  247, 251, 255, 247, 99, 0,  0,  192, 0,  128, 0,  0,  0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   0,   128, 128, 128, 128, 0, 0, 0, 0, 0,  7,   15,  248, 248, 0,   0,   0,   0,   0,   0,   0, 0, 0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
                                               {0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 128, 192, 192, 96,  112, 48,  56,  24,  24,  252, 252, 62,  3,   31,  124, 248, 136, 140, 6, 3, 1, 0, 0, 0, 12, 30, 54, 102, 198, 131, 3, 0, 0,   0,   0,  0,  0,  0,  131, 195, 226, 102, 52, 60, 12, 4,   0,   0, 0, 0, 1, 1, 3, 134, 206, 252, 248, 28,  12,  252, 0,  0,   0,   0,   0,   0,   0,  0,  0,  0,   0,  0,  0,  0,  0, 0, 0, 0, 0, 0,   0,   0,   0,   0, 0, 0,   0,   0,  0, 0,   0,   0, 0, 0, 0, 0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,  0, 0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 224, 112, 120, 92,  94,  87,  83,  211, 177,
                                                160, 160, 160, 160, 240, 248, 124, 63, 11, 15, 134, 252, 140, 140, 12, 207, 135, 128, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 193, 195, 199, 198, 204, 204, 198, 199, 195, 193, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 199, 159, 25,  16,  16,  120, 252, 207, 0,   0, 0, 0, 0, 0, 0, 0,  0,  0,  0,   0,   0,   0, 0, 0,   0,   0,  0,  0,  0,  0,   0,   0,   0,   0,  0,  0,  0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,  128, 128, 128, 192, 192, 96, 96, 48, 56,  24, 28, 12, 14, 6, 3, 1, 0, 0, 0,   0,   0,   0,   0, 0, 0,   1,   1,  1, 240, 255, 3, 0, 0, 0, 0, 1,  1,   247, 223, 165, 231, 199, 199, 199, 13, 8, 8, 24, 121, 121, 228, 196, 196, 196, 198, 134, 134, 134, 134, 134, 198, 198, 196, 228, 100, 104, 120, 56,
                                                56,  9,   9,   9,   12,  4,   7,   7,  7,  7,  29,  248, 240, 121, 31, 15,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 224, 112, 24,  12,  6,   3,   1, 1, 0, 0, 0, 0, 0,  0,  0,  0,   0,   0,   0, 0, 128, 224, 56, 24, 24, 16, 24,  248, 240, 0,   0,  0,  0,  254, 255, 1, 0, 0, 0, 0, 0, 248, 238, 115, 226, 195, 253, 254, 71, 115, 32,  192, 192, 0,   0,  0,  0,  128, 0,  0,  0,  1,  1, 1, 1, 1, 0, 128, 128, 128, 128, 0, 0, 128, 192, 64, 0, 0,   0,   0, 0, 0, 0, 4, 15, 255, 241, 0,   0,   0,   0,   0,   0,   0,  0, 0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
                                               {0,  0,  0,  0,  0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 192, 96,  112, 48,  112, 248, 254, 3,  62, 120, 200, 136, 12,  12,  4,   6, 3, 1, 28, 60, 102, 198, 135, 3, 3, 1, 1, 0, 0, 128, 128, 192, 192, 97,  99, 50, 54, 30, 28,  12,  0, 0, 0, 0, 0,   0,   0,   0,   128, 129, 131, 134, 204, 124, 6,   30, 240, 0,  0,   0,  0,   0,   0,   0,   0,   0,  0,   0,  0,  0,  0,  0,   0,   0,  0,  0, 0, 0, 0,   0,  0,  0,  0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,   0,   0,  0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 96,  120, 92, 86, 215, 147, 177, 161,
                                                96, 64, 64, 96, 240, 255, 31, 12, 12,  63,  231, 195, 192, 192, 64, 192, 192, 192, 192, 192, 192, 193, 131, 131, 134, 134, 130, 131, 131, 129, 129, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128, 143, 27,  17, 48, 24,  24,  28,  12,  255, 126, 0, 0, 0, 0,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,   0,  0,   0,  128, 128, 192, 192, 224, 96, 112, 48, 24, 24, 12, 12,  6,   6,  3,  1, 0, 0, 0,   0,  0,  0,  0, 0, 1, 1, 1, 1, 249, 255, 3,   128, 192, 96, 188, 111, 39, 179, 230, 100, 8, 56, 121, 105, 108, 196, 196, 196, 132, 132, 132, 132, 132, 132, 196, 196, 196, 196, 196, 108, 120, 48,  17, 17, 25,  24,  8,   8,
                                                13, 13, 7,  7,  7,   15,  26, 56, 224, 224, 224, 248, 127, 31,  6,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   128, 224, 112, 56,  12,  6, 3, 3, 1,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   128, 224, 120, 24, 24, 16, 24, 248, 224, 0, 0, 0, 0, 254, 159, 100, 254, 251, 252, 247, 220, 190, 247, 227, 64, 32,  96, 192, 96, 0,   64,  128, 128, 128, 1,  1,   1,  1,  1,  1,  128, 192, 64, 64, 0, 0, 0, 128, 64, 64, 64, 0, 0, 0, 0, 0, 0, 0,   0,   156, 254, 254, 7,  1,   1,   0,  0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0}};

static const char PROGMEM appa_tap[][ANIM_SIZE] = {/*{0,  0,  0,  0,  0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 192, 96,  112, 48,  112, 248, 254, 3,  62, 120, 200, 136, 12,  12,  4,   6, 3, 1, 28, 60, 102, 198, 135, 3, 3, 1, 1, 0, 0, 128, 128, 192, 192, 97,  99, 50, 54, 30, 28,  12,  0, 0, 0, 0, 0,   0,   0,   0,   128, 129, 131, 134, 204, 124, 6,   30, 240, 0,  0,   0,  0,   0,   0,   0,   0,   0,  0,   0,  0,  0,  0,  0,   0,   0,  0,  0, 0, 0, 0,   0,  0,  0,  0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,   0,   0,  0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 96,  120, 92, 86, 215, 147, 177, 161,
                                               96, 64, 64, 96, 240, 255, 31, 12, 12,  63,  231, 195, 192, 192, 64, 192, 192, 192, 192, 192, 192, 193, 131, 131, 134, 134, 130, 131, 131, 129, 129, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128, 143, 27,  17, 48, 24,  24,  28,  12,  255, 126, 0, 0, 0, 0,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,   0,  0,   0,  128, 128, 192, 192, 224, 96, 112, 48, 24, 24, 12, 12,  6,   6,  3,  1, 0, 0, 0,   0,  0,  0,  0, 0, 1, 1, 1, 1, 249, 255, 3,   128, 192, 96, 188, 111, 39, 179, 230, 100, 8, 56, 121, 105, 108, 196, 196, 196, 132, 132, 132, 132, 132, 132, 196, 196, 196, 196, 196, 108, 120, 48,  17, 17, 25,  24,  8,   8,
                                               13, 13, 7,  7,  7,   15,  26, 56, 224, 224, 224, 248, 127, 31,  6,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   128, 224, 112, 56,  12,  6, 3, 3, 1,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   128, 224, 120, 24, 24, 16, 24, 248, 224, 0, 0, 0, 0, 254, 159, 100, 254, 251, 252, 247, 220, 190, 247, 227, 64, 32,  96, 192, 96, 0,   64,  128, 128, 128, 1,  1,   1,  1,  1,  1,  128, 192, 64, 64, 0, 0, 0, 128, 64, 64, 64, 0, 0, 0, 0, 0, 0, 0,   0,   156, 254, 254, 7,  1,   1,   0,  0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0},
                                              */
                                              {0,  0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 192, 96,  112, 48,  112, 248, 254, 3,  62, 120, 200, 136, 12,  12,  4,   6, 3, 1, 28, 60, 102, 198, 135, 3, 3, 1, 1, 0, 0, 128, 128, 192, 192, 97,  99, 50, 54, 30, 28,  12,  0, 0, 0, 0, 0,   0,   0,   0,   128, 129, 131, 134, 204, 124, 6,  30, 240, 0,   0,  0,  0,   0,   0,   0,   0,   0,   0,   0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0, 0, 0, 0,  0,  0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 96,  120, 92, 86, 215, 147, 177, 161,
                                               96, 64,  64,  96,  240, 255, 31,  12, 12, 63,  231, 195, 192, 192, 64, 192, 192, 192, 192, 192, 192, 193, 131, 131, 134, 134, 130, 131, 131, 129, 129, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128, 143, 27,  17, 48, 24,  24,  28,  12,  255, 126, 0, 0, 0, 0,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0,  0,  128, 128, 192, 192, 224, 96,  112, 48, 24, 24, 12, 12, 6, 6, 3, 1, 0, 0, 0, 0, 0,  0,  0,   0, 1, 1, 1, 1, 1, 255, 3,   128, 128, 248, 28, 135, 119, 115, 214, 196, 8, 56, 121, 105, 108, 196, 196, 196, 132, 132, 132, 132, 132, 132, 196, 196, 196, 196, 196, 108, 120, 48,  17, 17, 25,  24,  8,   8,
                                               77, 173, 167, 135, 71,  143, 138, 24, 24, 240, 240, 248, 63,  31,  6,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   128, 224, 112, 56,  12,  6, 3, 3, 1,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   128, 224, 120, 24, 24, 16, 24, 248, 224, 0, 0, 0, 0, 252, 255, 207, 193, 65,  202, 153, 253, 255, 14,  23, 3,  225, 160, 64, 64, 128, 128, 192, 224, 192, 129, 1,   1,  1,  1,  1,  0,  0, 0, 0, 0, 0, 0, 0, 0, 64, 64, 224, 0, 0, 0, 0, 0, 0, 3,   186, 253, 239, 199, 3,  1,   0,   0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0},
                                              {0,   0,   0,  0,   0,   0,   0,  0,  0,   0,   0,   0,   0,   0,   0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 192, 96,  112, 48,  112, 248, 254, 3,  62, 120, 200, 136, 12,  12,  4,   6, 3, 1, 28, 60, 102, 198, 135, 3, 3, 1, 1, 0, 0, 128, 128, 192, 192, 97,  99, 50, 54, 30, 28,  12,  0, 0, 0, 0, 0,   0,   0,   0,   128, 129, 131, 134, 204, 124, 6,  30, 240, 0,  0,  0, 0,   0,   0,   0,   0,   0,  0,   0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   128, 192, 96,  120, 92, 86, 215, 147, 177, 161,
                                               96,  64,  64, 96,  240, 255, 31, 12, 12,  63,  231, 195, 192, 192, 64, 192, 192, 192, 192, 192, 192, 193, 131, 131, 134, 134, 130, 131, 131, 129, 129, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128, 143, 27,  17, 48, 24,  24,  28,  12,  255, 126, 0, 0, 0, 0,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   0,   0,   0,   0,  0,  0,  0,  0,   0,   0, 0, 0, 0, 0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,  0,  0, 128, 128, 192, 192, 224, 96, 112, 48, 24, 24, 12, 12, 6, 6, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 255, 195, 224, 112, 248, 236, 103, 119, 243, 246, 212, 8, 56, 121, 105, 108, 196, 196, 196, 132, 132, 132, 132, 132, 132, 196, 196, 196, 196, 196, 108, 120, 48,  17, 17, 25,  24,  8,   8,
                                               109, 173, 47, 135, 71,  143, 26, 24, 112, 224, 248, 248, 63,  31,  6,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   128, 224, 112, 56,  12,  6, 3, 3, 1,  0,  0,   0,   0,   0, 0, 0, 0, 0, 0, 0,   0,   128, 224, 120, 24, 24, 16, 24, 248, 224, 0, 0, 0, 0, 252, 255, 199, 129, 242, 193, 28,  254, 254, 44,  63, 55, 224, 96, 64, 0, 128, 128, 192, 224, 192, 1,  1,   1,  1,  1,  1,  0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3,   2,   189, 254, 231, 3,   1,   0,   0,   0,   0,   0, 0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  0,  0,   0,   0}};

static const char PROGMEM static_gif[][ANIM_SIZE] = {{0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x1f, 0x9f, 0xcf, 0xe7, 0x63, 0x18, 0x0c, 0xe1, 0xf8, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0x1f, 0x1f, 0x9f, 0xdf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xb0, 0x00, 0x03, 0xf2, 0xf0, 0xe1, 0xc7, 0x8f, 0x3f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x0f, 0xc7, 0xf1, 0xf8, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0x01, 0x00, 0x08, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0x00, 0x7c, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xdf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf1, 0xc7, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x1f, 0xff, 0xf7, 0xff, 0xf7, 0xfb, 0xfb, 0xfb, 0xff, 0xf8, 0xe0, 0x00, 0x17, 0x77, 0xf7, 0xe7, 0xef, 0xef, 0xef, 0xcf, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0xef, 0xe3, 0xf8, 0xff, 0xf2, 0x80, 0xbc, 0xf3, 0xe7, 0xcf, 0xdf, 0xdf, 0xdf, 0xbf, 0xdf, 0xdf, 0xdf, 0xdf, 0xef, 0xef, 0xef, 0xf7, 0xf7, 0xf7, 0xfb, 0x7b, 0x1b, 0x83, 0xc0, 0xf0, 0xfd, 0xff, 0xfd, 0xff, 0xfb, 0xff, 0xfb, 0xfb, 0x7f, 0x0f, 0xc0, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf1, 0xf7, 0xe7, 0xcf, 0xdf, 0xdf, 0x9f, 0xbf, 0xbf, 0x3f, 0x7e, 0x7c, 0x78, 0x71, 0x63, 0x67, 0x4f, 0x4f, 0x1f, 0x1f, 0x9f, 0xbf, 0x1f, 0xdf, 0xdf, 0xef, 0xe7, 0xf7, 0xf3, 0xf9, 0xfc, 0xfc, 0xf1, 0xf7, 0xe7, 0xef, 0xdf, 0x5f, 0x1f, 0xbf, 0x5f, 0x1f, 0x1f, 0x4f, 0x4f, 0x4f, 0x67, 0x63, 0x71, 0x78, 0x7c, 0x7e, 0x7f, 0x7f, 0x3f, 0xbf, 0x9f, 0xdf, 0xcf, 0xe7, 0xe7, 0xf3, 0xf8, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff},
                                                {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x9f, 0x8f, 0xcf, 0xe7, 0xe7, 0x73, 0x11, 0x04, 0xc6, 0xf1, 0xf8, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xef, 0x0f, 0x0f, 0x8f, 0xe7, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xd8, 0x01, 0x09, 0xfc, 0xfc, 0xf8, 0xf1, 0xe7, 0xc7, 0xcf, 0x9f, 0x3f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x3f, 0x0f, 0xe3, 0xf1, 0xfc, 0xfe, 0x7f, 0x7f, 0xff, 0xff, 0x7f, 0x05, 0x00, 0x20, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x9f, 0xc3, 0x00, 0x7c, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f, 0x7f, 0x7f, 0x7e, 0xb0, 0x00, 0x0f, 0x7f, 0xff, 0x7f, 0x7f, 0xff, 0xff, 0xfe, 0xfc, 0xf1, 0x03, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x01, 0x3f, 0xfd, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0xc0, 0x01, 0x1f, 0x7f, 0xfe, 0xfe, 0xfc, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xf3, 0xf7, 0xf7, 0xfb, 0xfb, 0xfd, 0xfc, 0xfe, 0xff, 0x60, 0x00, 0x3f, 0xfc, 0xf9, 0xfb, 0xf7, 0xf7, 0xf7, 0xf7, 0xf7, 0xf3, 0xfb, 0xfb, 0xfd, 0xfd, 0xfe, 0xfe, 0xfe, 0xff, 0xff, 0x7f, 0x3f, 0x1f, 0x83, 0xc0, 0xf0, 0xfd, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3e, 0x9f, 0xc3, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xfc, 0xf9, 0xf3, 0xf7, 0xe7, 0xef, 0xef, 0xcf, 0xdf, 0x9f, 0x9f, 0xbc, 0x3c, 0x38, 0xb1, 0xb3, 0xa7, 0xa7, 0x8f, 0x8f, 0xaf, 0x5f, 0x8f, 0x6f, 0xef, 0xf7, 0xf7, 0xfb, 0xf9, 0xfd, 0x7e, 0x7f, 0x7e, 0x7c, 0x79, 0x73, 0x77, 0xe7, 0x6f, 0x0f, 0x9f, 0x5f, 0xdf, 0x8f, 0x8f, 0xaf, 0xa7, 0xa7, 0xb3, 0xb1, 0xb8, 0x1c, 0x9c, 0xde, 0x5f, 0x0f, 0xcf, 0xef, 0xe7, 0xf3, 0xfb, 0xf9, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff},
                                                /*{0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x3f, 0x9f, 0xcf, 0xc7, 0xe7, 0x01, 0x18, 0x8c, 0xe1, 0xf8, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0x1f, 0x8f, 0xcf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xfa, 0xf8, 0xf1, 0xe3, 0xcf, 0x9f, 0x1f, 0x3f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x1f, 0xc7, 0xf3, 0xf9, 0xfc, 0xfe, 0xfe, 0xff, 0xff, 0xff, 0x5b, 0x01, 0x00, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x03, 0x40, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xf8, 0xe3, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x06, 0x4f, 0xff, 0xf7, 0xfb, 0xfb, 0xff, 0xfb, 0xff, 0xff, 0xf9, 0xe0, 0x80, 0x0b, 0x3f, 0xf7, 0xf7, 0xef, 0xef, 0xef, 0xcf, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0xdf, 0xcf, 0xe7, 0xf3, 0xf8, 0xfe, 0xc0, 0x06, 0x3e, 0xf1, 0xe7, 0xef, 0xcf, 0xdf, 0x9f, 0xbf, 0xff, 0x9f, 0xdf, 0xdf, 0xcf, 0xef, 0xef, 0xef, 0xf7, 0xf7, 0xf7, 0x37, 0x1f, 0x00, 0xe0, 0xfa, 0xff, 0xff, 0xfd, 0xff, 0xfd, 0xff, 0xfb, 0x7b, 0x3f, 0x8f, 0xc0, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf9, 0xf3, 0xe7, 0xcf, 0xdf, 0xdf, 0x9f, 0xbf, 0x3f, 0x3f, 0xbe, 0x38, 0x78, 0x31, 0xa3, 0x27, 0xaf, 0x8f, 0x9f, 0x9f, 0x9f, 0x9f, 0x5f, 0xcf, 0xef, 0xe7, 0xf7, 0xf3, 0xf9, 0xfc, 0xfe, 0xfe, 0xf8, 0xf3, 0xf7, 0xef, 0xcf, 0x5f, 0x9f, 0x5f, 0x1f, 0x9f, 0x9f, 0x1f, 0x0f, 0x0f, 0x67, 0x23, 0x31, 0x30, 0x3c, 0x3e, 0xbf, 0x3f, 0x3f, 0x9f, 0xdf, 0xcf, 0xe7, 0xf7, 0xf3, 0xf9, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff},
                                                {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x1f, 0x9f, 0x8f, 0xc7, 0xc3, 0x01, 0x18, 0x80, 0xe1, 0xf8, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x1f, 0x8f, 0xcf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x02, 0x00, 0xf8, 0xf9, 0xf3, 0xe7, 0xcf, 0x9f, 0x3f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0xc7, 0xe3, 0xf9, 0xfc, 0xfe, 0xfe, 0xff, 0xff, 0xff, 0xdb, 0x00, 0x00, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x3f, 0x07, 0x80, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xfc, 0xf9, 0xe3, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x04, 0x1f, 0xef, 0xff, 0xf7, 0xf7, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xb0, 0x80, 0x07, 0x3f, 0xef, 0xef, 0xef, 0xdf, 0xdf, 0xdf, 0xbf, 0xbf, 0xbf, 0xbf, 0xbf, 0xbf, 0x9f, 0xcf, 0xe7, 0xf1, 0xfc, 0xc2, 0x0e, 0x7c, 0xf3, 0xe7, 0xcf, 0xdf, 0xbf, 0xbf, 0x7f, 0x7f, 0x7f, 0xbf, 0xbf, 0xbf, 0xdf, 0xdf, 0xdf, 0xef, 0xef, 0x6f, 0x2f, 0x07, 0x80, 0xf0, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xfb, 0xfb, 0xff, 0xf7, 0x7f, 0x0f, 0xc0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf3, 0xe7, 0xef, 0xcf, 0xdf, 0x9f, 0xbf, 0xbf, 0x3f, 0x3e, 0xfe, 0x78, 0x70, 0x71, 0x63, 0x67, 0x0f, 0x1f, 0x1f, 0x9f, 0x5f, 0x9f, 0x1f, 0xdf, 0xef, 0xef, 0xe7, 0xf3, 0xf9, 0xfd, 0xfe, 0xfc, 0xf9, 0xf3, 0xe7, 0xef, 0xcf, 0x1f, 0x9f, 0x3f, 0x3f, 0xbf, 0x1f, 0x1f, 0x1f, 0x4f, 0x47, 0x63, 0x71, 0x70, 0x7c, 0x3e, 0xbf, 0x3f, 0x3f, 0xbf, 0x9f, 0xdf, 0xcf, 0xe7, 0xf3, 0xf9, 0xf8, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff},
                                                */
                                                {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x1f, 0x8f, 0x87, 0x31, 0x30, 0xc0, 0xf0, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x3b, 0xc0, 0x80, 0x03, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x1f, 0xc7, 0xf3, 0xf9, 0xfc, 0xfe, 0xff, 0xff, 0xc7, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x00, 0x00, 0xf8, 0xff, 0xff, 0xff, 0xfe, 0xfc, 0xf1, 0xe3, 0x8f, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc3, 0x00, 0xfe, 0xff, 0xbf, 0xbf, 0xff, 0xdf, 0xbf, 0xff, 0xf4, 0x90, 0x80, 0x07, 0x3f, 0xbf, 0xff, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x3f, 0xcf, 0xe3, 0xfd, 0x18, 0x63, 0xdf, 0x9f, 0x3f, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f, 0x7f, 0x7f, 0xbf, 0xbf, 0xbf, 0xff, 0x3f, 0x1f, 0x83, 0xc0, 0xf8, 0xff, 0xef, 0xef, 0xef, 0xef, 0xff, 0xef, 0xff, 0xef, 0xff, 0x4e, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                                                 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xf8, 0xf3, 0xe7, 0xcf, 0x9f, 0x3f, 0x3f, 0xbf, 0x7f, 0x7f, 0x7f, 0xfe, 0xfc, 0xf8, 0xf3, 0xe7, 0xc7, 0xcf, 0x9f, 0x1f, 0x3f, 0x3f, 0x3f, 0x7f, 0x3f, 0xbf, 0x9f, 0xdf, 0xcf, 0xe7, 0xf3, 0xf8, 0xf1, 0xe7, 0xcf, 0xdf, 0x9f, 0xbf, 0x3e, 0x3e, 0x3e, 0x3f, 0x3e, 0xbf, 0x9f, 0x9f, 0xcf, 0xe7, 0xe3, 0xf9, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f, 0x3f, 0xbf, 0x9f, 0xcf, 0xe7, 0xe3, 0xf9, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff}};

static const animation_details anim_info[ANIM_AMOUNT] = {{3, 4, 2, true, 150}, {3, 0, 0, false, 250}};

// custom functions
void reset_animations(void) {
    current_idle_frame = 0;
    current_prep_frame = 0;
    current_tap_frame  = 0;
    total_idle_frames  = anim_info[gif_selector].idle;
    total_prep_frames  = anim_info[gif_selector].prep;
    total_tap_frames   = anim_info[gif_selector].tap;
}

void print_frame(uint8_t *current_frame, const char frames[][ANIM_SIZE], int framenum, bool reverse) {
    *current_frame = *current_frame % framenum;
    oled_write_raw_P(frames[(reverse ? abs((framenum - 1) - *current_frame) : *current_frame)], ANIM_SIZE);
    *current_frame = *current_frame + 1;
}

uint32_t set_timer(void) {
    anim_timer = timer_read32();
    return anim_timer;
}

// animations
void animate_dynamic(void) {
    set_timer();
    if (get_current_wpm() < TAP_SPEED) {
        if (prepped) {
            print_frame(&current_prep_frame, appa_prep, total_prep_frames, true);
            prepped = current_prep_frame != total_prep_frames;
        } else {
            print_frame(&current_idle_frame, appa_idle, total_idle_frames, false);
        }
        current_tap_frame = 0;
    } else {
        if ((!prepped)) {
            print_frame(&current_prep_frame, appa_prep, total_prep_frames, false);
            prepped   = current_prep_frame == total_prep_frames;
            prep_wait = prepped;
        } else {
            print_frame(&current_tap_frame, appa_tap, total_tap_frames, false);
        }
        current_idle_frame = 0;
    }
}

void animate_static(void) {
    set_timer();
    print_frame(&current_idle_frame, static_gif, total_idle_frames, false);
}

// collection of pointers to animation functions
anim animations[ANIM_AMOUNT] = {animate_dynamic, animate_static};

// extended core functions
void post_process_record_user(uint16_t keycode, keyrecord_t *record) {
    if (!is_oled_on()) {
        oled_on();
    }

    if (record->event.pressed) {
        if (keycode == PB_1) {
            gif_selector = (gif_selector + 1) % ANIM_AMOUNT;
            reset_animations();
        }
        anim_sleep = timer_read32();
    }
}

void keyboard_post_init_user(void) {
    // Reset counters for animations
    reset_animations();
}

bool oled_task_kb(void) {
    if (timer_elapsed32(anim_sleep) > OLED_TIMEOUT) {
        oled_off();
        return false;
    }

    if (anim_info[gif_selector].multi_wpm) {
        if (get_current_wpm() == 0 && timer_elapsed32(anim_timer) > anim_info[gif_selector].frame_time) {
            animations[gif_selector]();
        } else if (get_current_wpm() > 0 && timer_elapsed32(anim_timer) > (((prepped && prep_wait) ? WAIT_MULTIPLIER : 1) * anim_info[gif_selector].frame_time)) {
            prep_wait = false;
            animations[gif_selector]();
        }
    } else if (timer_elapsed32(anim_timer) > anim_info[gif_selector].frame_time) {
        animations[gif_selector]();
    }

    if (host_keyboard_led_state().caps_lock) {
        static const char PROGMEM caps_indicator[] = {0xDE, 0XDF, 0x00};
        oled_write_P(caps_indicator, !anim_info[gif_selector].multi_wpm);
        //oled_write_P(PSTR("Caps"), false);
    }

    return false;
}
#endif